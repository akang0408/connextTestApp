{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\n/*eslint-disable*/\nimport { useState } from 'react';\nimport Router from 'next/router';\nexport default function Login() {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n\n  const handleLogin = event => {\n    const bodyObj = {\n      username,\n      password\n    };\n    fetch('/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(bodyObj)\n    }).then(data => data.json()).then(res => {\n      console.log(res);\n\n      if (res.status === 200) {\n        document.cookie = `id=${res.id}; max-age=60*60*2`;\n        Router.push('/home');\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Login\"), __jsx(\"div\", null, __jsx(\"span\", null, \"username: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value)\n  })), __jsx(\"div\", null, __jsx(\"span\", null, \"password: \"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value)\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    onClick: handleLogin\n  }, \"submit\"));\n}","map":{"version":3,"sources":["/Users/Eli/Coding/connextTestApp/pages/login.js"],"names":["useState","Router","Login","username","setUsername","password","setPassword","handleLogin","event","bodyObj","fetch","method","headers","body","JSON","stringify","then","data","json","res","console","log","status","document","cookie","id","push","catch","err","e","target","value"],"mappings":";;;AAAA;AACA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,eAAe,SAASC,KAAT,GAAiB;AAE9B,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACK,QAAD;AAAA,OAAWC;AAAX,MAA0BN,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMO,WAAW,GAAIC,KAAD,IAAW;AAC7B,UAAMC,OAAO,GAAG;AACdN,MAAAA,QADc;AAEdE,MAAAA;AAFc,KAAhB;AAKAK,IAAAA,KAAK,CAAC,aAAD,EAAgB;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFU;AAKnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,OAAf;AALa,KAAhB,CAAL,CAOCO,IAPD,CAOOC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAPhB,EAQCF,IARD,CAQOG,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAIA,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtBC,QAAAA,QAAQ,CAACC,MAAT,GAAmB,MAAKL,GAAG,CAACM,EAAG,mBAA/B;AACAxB,QAAAA,MAAM,CAACyB,IAAP,CAAY,OAAZ;AACD;AACF,KAdD,EAeCC,KAfD,CAeQC,GAAD,IAASR,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAfhB;AAgBD,GAtBD;;AAwBA,SACE,mBACE,0BADF,EAEE,mBACE,iCADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,KAAK,EAAEzB,QAHT;AAIE,IAAA,QAAQ,EAAE0B,CAAC,IAAIzB,WAAW,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV;AAJ5B,IAFF,CAFF,EAWE,mBACE,iCADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,EAAE,EAAC,UAFL;AAGE,IAAA,KAAK,EAAE1B,QAHT;AAIE,IAAA,QAAQ,EAAEwB,CAAC,IAAIvB,WAAW,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV;AAJ5B,IAFF,CAXF,EAoBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAExB;AAA/B,cApBF,CADF;AAwBD","sourcesContent":["/*eslint-disable*/\nimport { useState } from 'react';\nimport Router from 'next/router';\n\nexport default function Login() {\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleLogin = (event) => {\n    const bodyObj = {\n      username,\n      password,\n    }\n\n    fetch('/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(bodyObj),\n    })\n    .then((data) => data.json())\n    .then((res) => {\n      console.log(res);\n      if (res.status === 200) {\n        document.cookie = `id=${res.id}; max-age=60*60*2`;\n        Router.push('/home');\n      }\n    })\n    .catch((err) => console.log(err))\n  }\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <div>\n        <span>username: </span>\n        <input\n          type=\"text\"\n          id=\"username\"\n          value={username}\n          onChange={e => setUsername(e.target.value)}\n        />\n      </div>\n      <div>\n        <span>password: </span>\n        <input\n          type=\"text\"\n          id=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n      </div>\n      <button type=\"submit\" onClick={handleLogin}>submit</button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}